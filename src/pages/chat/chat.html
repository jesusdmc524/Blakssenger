<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <div *ngIf="Friend">
      <ion-title text-capitalize margin-right>{{Friend.nombre}} <ion-icon name="radio-button-on"
          style="font-size:15px; color:green"></ion-icon>
      </ion-title>
    </div>
  </ion-navbar>
</ion-header>
<ion-fab top right>
  <button ion-fab>
    <ion-icon name="attach"></ion-icon>
  </button>
  <ion-fab-list>
    <button ion-fab>
      <ion-icon name="camera"></ion-icon>
    </button>
    <button ion-fab>
      <ion-icon name="image"></ion-icon>
    </button>
    <button ion-fab (click)="SendZumbido()">
      <ion-icon name="flash"></ion-icon>
    </button>
  </ion-fab-list>
</ion-fab>

<ion-content [ngClass]="{'shaker': Shake}">
  <div *ngFor="let message of conversation">
    <div *ngIf="message.type === 'zumbido'">
      <div
        [ngClass]="{Senderzumb: GetnameById(message.sender) === this.user.nombre, RecieverZumb: GetnameById(message.sender) === this.Friend.nombre }">
        {{GetnameById(message.sender)}} ha enviado un zumbido
      </div>
    </div>
    <div *ngIf="message.type === 'text'">
      <ion-card
        [ngClass]="{messageClass: GetById(message.sender) === this.user.uid, RecieverClass: GetById(message.sender) === this.Friend.uid }">
        <!--<ion-card-header style="color:white; font-weight:600">
              {{GetNameById(message.sender)}}
            </ion-card-header>-->
        <ion-card-content>
          {{message.content}}
        </ion-card-content>
      </ion-card>
    </div>

  </div>
</ion-content>
<ion-footer>
  <ion-toolbar>
    <ion-input [(ngModel)]="message" type="text" placeholder="Mensaje" autofocus margin-left style="color:white"
      (keyup.enter)="SendMesage()"></ion-input>
    <ion-buttons end>
      <button ion-button icon-only (click)="SendMesage()">
        <ion-icon name="send" color="primary"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>